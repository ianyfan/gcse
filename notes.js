"use strict";window.notes={},notes.init=function(){if(!notes.init.called){notes.init.called=!0,document.body.onkeyup=function(e){if(document.body.scrollWidth<window.innerWidth||e.ctrlKey){var t={Left:"prev",ArrowLeft:"prev",Right:"next",ArrowRight:"next"}[e.key||e.keyIdentifier];t&&document.getElementById(t).click()}};var e=document.createElement("link");e.rel="stylesheet",e.href="/gcse/notesjs.css",document.head.appendChild(e);var t=document.getElementById("header-nav").style;t.zIndex=1,t.top=210-window.scrollY+"px";var n=document.getElementsByTagName("nav")[0].firstElementChild;if(n.onkeyup=function(e){var t=document.activeElement.nextElementSibling;"Enter"===(e.key||e.keyIdentifier)&&t&&"OL"===t.tagName&&"current"!==t.className&&notes.toggleList(t)},n.onclick=function(e){var t=e.target.nextElementSibling;t&&"OL"===t.tagName&&"current"!==t.className&&(e.stopImmediatePropagation(),notes.toggleList(t))},history.pushState){if(history.replaceState("",""),!(location.pathname in sessionStorage)){var o=document.createElement("script");o.src="/gcse/"+location.pathname.split("/")[2]+"/cachesubject.js",document.head.appendChild(o)}n.addEventListener("click",document.getElementsByTagName("header")[0].onclick=function(e){if(e.target.pathname.split("/")[2]===location.pathname.split("/")[2]){e.preventDefault();var t=e.target.href;t&&"current"!==e.target.className&&(history.pushState("","",t),window.onpopstate())}})}}},notes.toggleList=function(e){e.className?(e.style.height=e.scrollHeight+"px",e.className="",e.scrollHeight,e.style.height=""):(e.style.height="0",e.className="expanded",e.style.height=e.scrollHeight+"px",window.setTimeout(function(){e.style.height=""},250))},"loading"===document.readystate?document.addEventListener("DOMContentLoaded",notes.init):notes.init(),window.onscroll=function(){var e=window.scrollY;document.getElementById("header-nav").style.top=(180>e?210-e:30)+"px"},window.onpopstate=function(){function e(e){var t=document.getElementById(e),n="prev"===e?o:a;n?(t.href=n.href,t.nextElementSibling.textContent=n.textContent):t.removeAttribute("href")}window.scroll(0,0);for(var t=document.getElementsByClassName("current"),n=t.length;--n;)t[n].className="expanded";var o,a,l=document.getElementsByTagName("nav")[0].firstElementChild,i=l.querySelector('[href="'+location.pathname+'"]'),r=[],s=[];if(i){i.className="current";var c,m=i;do c=m,c.className||notes.toggleList(c),c.className="current",s.unshift("A"===c.tagName?c.textContent:c.previousElementSibling.textContent),m=c.parentNode.parentNode,r.unshift(Array.prototype.indexOf.call(m.children,c.parentNode)+1);while("NAV"!==m.parentNode.tagName);if(i.offsetTop<l.scrollTop||i.offsetTop+i.offsetHeight>l.scrollTop+l.offsetHeight){var d=i.offsetTop+i.offsetHeight/2-(l.scrollTop+l.offsetHeight/2),g=d>0?1:-1;d=g*d;var p=0,h=setInterval(function(){if(l.scrollTop+=g*(p+=2),(d-=p)<(p+1)*(p+2)/2){clearInterval(h);var e=d-p*(p+1)/2;setTimeout(function(){l.scrollTop+=g*e,h=setInterval(function(){l.scrollTop+=g*p--,0===p&&clearTimeout(h)},10)},10*(e/p))}},10)}for(o=i.parentNode;!o.previousElementSibling&&"NAV"!==o.tagName;)o=o.parentNode.parentNode;if("NAV"!==o.tagName)for(o=o.previousElementSibling.lastElementChild;"A"!==o.tagName;)o=o.lastElementChild.lastElementChild;else o=null;for(a=i.parentNode;!a.nextElementSibling&&"NAV"!==a.tagName;)a=a.parentNode.parentNode;if("NAV"!==a.tagName)for(a=a.nextElementSibling.lastElementChild;"A"!==a.tagName;)a=a.firstElementChild.lastElementChild;else a=null}else i=document.querySelector('[href="'+location.pathname+'"]');document.title=r.join(".")+" "+i.textContent+" :: GCSE notes";var u=document.getElementsByTagName("h1");u[1].textContent=u[0].textContent=i.textContent,u[1].nextElementSibling.textContent=s.join(" > "),document.getElementsByTagName("article")[0].innerHTML=u[1].parentNode.outerHTML+sessionStorage.getItem(location.pathname),e("prev"),e("next")};