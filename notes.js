"use strict";window.notes={},notes.init=function(){if(!notes.init.called){notes.init.called=!0,document.body.onkeyup=function(e){if(document.body.scrollWidth<window.innerWidth||e.ctrlKey){var t={Left:"prev",ArrowLeft:"prev",Right:"next",ArrowRight:"next"}[e.key||e.keyIdentifier];t&&document.getElementById(t).click()}};var e=document.createElement("link");e.rel="stylesheet",e.href="/gcse/notesjs.css",document.head.appendChild(e),document.getElementsByTagName("article")[0].style.minHeight="calc(100vh - 70px)";var t=document.getElementById("header-nav").style;t.zIndex=1,t.top=210-window.scrollY+"px";var n=document.getElementsByTagName("nav")[0].firstElementChild;if(n.onkeyup=function(e){var t=document.activeElement.nextElementSibling;"Enter"===(e.key||e.keyIdentifier)&&t&&"OL"===t.tagName&&"current"!==t.className&&notes.toggleList(t)},n.onclick=function(e){var t=e.target.nextElementSibling;t&&"OL"===t.tagName&&"current"!==t.className&&(e.stopImmediatePropagation(),notes.toggleList(t))},history.pushState){if(history.replaceState("",""),!(location.pathname in sessionStorage)){var o=document.createElement("script");o.src="/gcse/"+location.pathname.split("/")[2]+"/cachesubject.js",document.head.appendChild(o)}n.addEventListener("click",document.getElementsByTagName("header")[0].onclick=function(e){if(e.target.pathname.split("/")[2]===location.pathname.split("/")[2]){e.preventDefault();var t=e.target.href;t&&"current"!==e.target.className&&(history.pushState("","",t),window.onpopstate())}})}notes.scrollTo.nav=document.getElementsByTagName("nav")[0].lastElementChild}},notes.scrollTo=function(e){function t(){o.scrollTop+=notes.scrollTo.direction*(notes.scrollTo.speed+=2),(l-=notes.scrollTo.speed)-notes.scrollTo.speed*(notes.scrollTo.speed-1)/2<a&&(clearInterval(notes.scrollTo.intervalID),notes.scrollTo.intervalID=setInterval(n,10))}function n(){--notes.scrollTo.speed?o.scrollTop+=notes.scrollTo.direction*notes.scrollTo.speed:(clearInterval(notes.scrollTo.intervalID),notes.scrollTo.intervalID=null)}var o=notes.scrollTo.nav,l=e.offsetTop+e.offsetHeight/2-(o.scrollTop+o.offsetHeight/2),s=l>0?1:-1;l=s*l;var a=(o.offsetHeight-e.offsetHeight)/2;if(!(null===notes.scrollTo.intervalID&&a>=l)){if(clearInterval(notes.scrollTo.intervalID),notes.scrollTo.intervalID=null,notes.scrollTo.speed){var i,r=s===notes.scrollTo.direction?-1:1,c=l+r*notes.scrollTo.speed*(notes.scrollTo.speed-1)/2;if(a>c||s!==notes.scrollTo.direction){if(Math.abs(c)<a)i=1;else{var d=Math.floor((notes.scrollTo.speed-3)/2);i=Math.abs(l+r*(d+1)*(notes.scrollTo.speed-2-d))<=a?2:3}return void(notes.scrollTo.intervalID=setInterval(function(){(notes.scrollTo.speed-=i)>0?o.scrollTop+=notes.scrollTo.direction*notes.scrollTo.speed:(clearInterval(notes.scrollTo.intervalID),notes.scrollTo.speed=0,3===i&&(l=(notes.scrollTo.direction*=-1)*(e.offsetTop+e.offsetHeight/2-(o.scrollTop+o.offsetHeight/2)),notes.scrollTo.intervalID=setInterval(t,10)))},10))}}notes.scrollTo.direction=s,notes.scrollTo.intervalID=setInterval(t,10)}},notes.scrollTo.intervalID=null,notes.scrollTo.speed=0,"loading"===document.readystate?document.addEventListener("DOMContentLoaded",notes.init):notes.init(),notes.toggleList=function(e){e.className?(e.style.height=e.scrollHeight+"px",e.className="",e.scrollHeight,e.style.height=""):(e.style.height="0",e.className="expanded",e.style.height=e.scrollHeight+"px",window.setTimeout(function(){e.style.height=""},250))},window.onscroll=function(){var e=window.scrollY;document.getElementById("header-nav").style.top=(180>e?210-e:30)+"px"},window.onpopstate=function(){function e(e){var t=document.getElementById(e),n="prev"===e?l:s;(t.href=n.href||"")&&(t.nextElementSibling.textContent=n.pathname.split("/").slice(3,-1).join(".")+" "+n.textContent)}window.scroll(0,0);for(var t=document.getElementsByClassName("current"),n=t.length;--n;)t[n].className="expanded";var o,l,s,a=location.pathname.split("/").slice(3,-1),i=document.getElementsByTagName("h1"),r=[];if(a.length){o=notes.scrollTo.nav;for(var n=0;n<a.length;n++)o=o.children[a[n]-1].lastElementChild,"A"===o.tagName?r.push(o.textContent):(r.push(o.previousElementSibling.textContent),o.className||notes.toggleList(o)),o.className="current";l=o;do{for(l=l.parentNode;!l.previousElementSibling&&"NAV"!==l.tagName;)l=l.parentNode.parentNode;if("NAV"!==l.tagName)for(l=l.previousElementSibling.lastElementChild;"A"!==l.tagName;)l=l.lastElementChild.lastElementChild}while("nolist"===l.className);s=o;do{for(s=s.parentNode;!s.nextElementSibling&&"NAV"!==s.tagName;)s=s.parentNode.parentNode;if("NAV"!==s.tagName)for(s=s.nextElementSibling.lastElementChild;"A"!==s.tagName;)s=s.firstElementChild.lastElementChild}while("nolist"===s.className);notes.scrollTo(o)}else o=document.querySelector('[href="'+location.pathname+'"]'),l=s={href:""};document.title=a.join(".")+" "+o.textContent+" :: GCSE notes",i[1].textContent=i[0].textContent=o.textContent,i[1].nextElementSibling.textContent=r.join(" > "),document.getElementsByTagName("article")[0].innerHTML=i[1].parentNode.outerHTML+sessionStorage.getItem(location.pathname),e("prev"),e("next")},function(e,t,n,o,l,s,a){e.GoogleAnalyticsObject=l,e[l]=e[l]||function(){(e[l].q=e[l].q||[]).push(arguments)},e[l].l=1*new Date,s=t.createElement(n),a=t.getElementsByTagName(n)[0],s.async=1,s.src=o,a.parentNode.insertBefore(s,a)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-61247210-1","auto"),ga("send","pageview");